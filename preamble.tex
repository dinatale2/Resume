%!TEX root = giuseppe-cv.tex
%
% This is the preamble to all versions of the CV.
%

%-----------------------------------------------------------------------------
% Conditional formatting by resume type -- all false by default.
%-----------------------------------------------------------------------------
\usepackage{etoolbox}

%-----------------------------------------------------------------------------
% moderncv Setup
%-----------------------------------------------------------------------------
\moderncvstyle{classic} % options: 'casual', 'classic', 'oldstyle', 'banking'
\moderncvcolor{blue}
\usepackage[utf8]{inputenc}

% to set the default font; use '\sfdefault' for the default sans serif
% font, '\rmdefault' for the default roman one, or any tex font name
\renewcommand{\familydefault}{\sfdefault}

% uncomment to suppress automatic page numbering for CVs longer than
% one page
%\nopagenumbers{}

%-----------------------------------------------------------------------------
% Geometry and margins.
%-----------------------------------------------------------------------------
\usepackage[scale=0.8,top=1in,bottom=.75in]{geometry}

% if you want to change the width of the column with the dates
\setlength{\hintscolumnwidth}{2.8cm}

% only for the classic theme, - to change width of name placeholder
% (to leave more space for your address details)
%\AtBeginDocument{\setlength{\maketitlenamewidth}{6cm}}

% required when changes are made to page layout lengths
\AtBeginDocument{\recomputelengths}

%-----------------------------------------------------------------------------
% Set up hyperref custom link colors.
%-----------------------------------------------------------------------------
\usepackage{hyperref}
\usepackage{xcolor} % Use xcolor so I can steal colors from moderncv
\colorlet{mylinkcolor}{color1!50!black} % Links are slightly darker than color1
\hypersetup{
    colorlinks=true,%
    citecolor=black,%
    filecolor=black,%
    linkcolor=mylinkcolor,%
    urlcolor=mylinkcolor,%
    pdfborder=0 0 0%
}
\urlstyle{sf}    % Make URLs match rest of text.

%-----------------------------------------------------------------------------
% Personal data.
%-----------------------------------------------------------------------------

\firstname{Giuseppe}
\familyname{Di Natale}
\title{\normalsize
	Software Engineer\newline
	Google
}                       % optional
\address{1600 Amphitheatre Pkwy\\Attn Gdinatale\\}{Mountain View, CA, 94043}    % optional
%\phone{123.234.1234}                                   % optional
%\fax{fax (optional)}                                  % optional
\email{gdinatale@google.com}                              % optional
\extrainfo{\href{https://dinatale2.github.io}{\url{https://dinatale2.github.io}}}
\github{dinatale2}
%\linkedin{giuseppedinatale}
%\extrainfo{\href{http://people.llnl.gov/dinatale2}
%  {\url{http://people.llnl.gov/dinatale2}}}
%\extrainfo{\href{http://tgamblin.github.io}{\url{http://tgamblin.github.io}}}

%\quote{Some quote (optional)}                         % optional

% optional, '64pt' is the height the picture must be resized to and
% 'picture' is the name of the picture file
%\photo[64pt]{picture}


%-----------------------------------------------------------------------------
% Custom commands.
%-----------------------------------------------------------------------------
% command and color used in this document, independently from moderncv
\definecolor{see}{rgb}{0.5,0.5,0.5}% for web links
\newcommand{\see}[1]{\hfill{\itshape\color{see}\footnotesize{}see #1}}

% Line break if allowed by environment, otherwise comma
\newcommand{\br}{\ifinner, \else\\\fi}

% Link to github projects
\newcommand{\gh}[3]{\href{https://github.com/#1/#2/commits?author=dinatale2}{#3}}
\newcommand{\ghllnl}[2]{\gh{llnl}{#1}{#2}}
\newcommand{\ghzfs}[2]{\gh{zfsonlinux}{#1}{#2}}
\newcommand{\ghopensfs}[2]{\gh{opensfs}{#1}{#2}}
\newcommand{\lustre}[0]{\href{https://review.whamcloud.com/\#/q/owner:dinatale2@llnl.gov+status:merged}{Lustre}}

%-----------------------------------------------------------------------------
% Bibliography Customizations.
%-----------------------------------------------------------------------------
% Put labels next to best posters, based on bibliography order.
% NOTE: this is a little nasty; numbers need to be updated every time the pubs change.
\makeatletter
% Redefine \bibitem so that it makes the key available to \bibliographyitemlabel as \mykey
\def\@bibitem#1{%
	\def\mykey{#1}%
	\item\if@filesw\immediate\write\@auxout {\string\bibcite{#1}%
	{\the\value{\@listctr}}}\fi\ignorespaces}

% include notes on citations, such as best paper/poster awards
\input{cite-notes}

\makeatother

% Bibliography section formatting
\newlength{\bibliographysectionspacing}            % Spacing before all sections but the first
\setlength{\bibliographysectionspacing}{.15in}
\newcommand{\bibsectiontitleformat}[1]{#1}         % Additional formatting for each section title

% Multiple Bibliographies and their titles.
\usepackage{multibib}

% Custom cventry formatting
\let\oldcventry\cventry
\renewcommand{\cventry}[6]%
	{\oldcventry{#1}{#2}{\color{mylinkcolor}{#3}}{#4}{#5}{#6}}

\newcommand{\paperSecTitle}
  {\bibsectiontitleformat{Conference Papers}}
\newcommand{\posterSecTitle}
  {\bibsectiontitleformat{Posters \& Presentations}}

\newcites{Paper,Poster}{
	\paperSecTitle,\posterSecTitle}
